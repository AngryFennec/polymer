https://www.figma.com/file/UmPag9ZKgi4DGuxGA7CgZVN5/SteelAvto-%D0%BF%D0%BE%D0%BB%D0%B8%D0%BC%D0%B5%D1%80%D0%BD%D0%B0%D1%8F-%D0%BA%D0%B5%D1%80%D0%B0%D0%BC%D0%B8%D0%BA%D0%B0?node-id=0%3A1
# Требования к верстке

## Общая концепция

Методология - **БЭМ**.

Препроцессор - **LESS**.

*Никогда в LESS никаких комментариев нельзя писать по-русски*

Автоматизация(при верстке локально) - **Gulp**.

Кроссбраузерность - от **IE10/11** (зависит от проекта) и последние 2 версии от текущей у остальных браузеров (Chrome, Opera, Firefox, Safari, Edge).

Aдаптив - 4 разрешения (десктоп 1367 - 2550 по ширине, десктоп для 15 дюймовых ноутбуков - 1366 х 650, планшет, телефон).
Свойства для адаптива писать внутри правила, планшет строгие значения (например 1024 - 767px), мобилка - все, что ниже и не наследует правила планшета, даже если они совпадают.

Верстка **всегда резиновая**, кроме самых исключительных случаев, вызванных фантазией дизайнера.

При локальной верстке все зависимости проекта должны быть указаны в файле `package.json`. Команда `npm i` должна установить всё необходимое для того, чтобы сборка проекта работала.

## Файловая структура (при локальной верстке)

- `src` или `source` - каталог для размещения рабочих файлов (html, less, js, изображения, иконки, шрифты, фавиконки)

- `public` или `build` - каталог для размещения готовой верстки

- `src/favicon/` - каталог для размещения фавиконки

- `src/fonts/` - каталог для размещения локальных шрифтов

- `src/icons/` - каталог для размещения svg иконок

- `src/images/` - каталог для размещения "статичных изображений", те изображения, что никогда не будут меняться (например, лого)

- `src/upload/` - каталог для размещения контентных изображений, те изображения, что будет подгружать контент-менеджер (например изображение в анонсе новости или в статьях или фото персоны на сайте)

- `src/less/` - каталог для всех less файлов

- `src/less/components/` - каталог для размещения `less` файлов (файлы должны быть разбиты по БЭМ блокам, для каждого БЭМ блока - свой файл, даже если там всего 1 правило)

- `src/less/plugins/` - каталог для `less` файлов, относящихся к `jQuery` плагинам

- `src/less/fonts.less` - файл для подключения нестандартных шрифтов через `@font-face` (**Google Fonts всегда подключаем через ссылку**, а не @import - IE иначе ломается)

- `src/less/mixins.less` - файл для подключения миксинов

- `src/less/less-prefixer.less` - файл с миксинами для префиксов, позволяет не думать о подстановке префиксов

- `src/less/normalize.v7.0.0.less` - обеспечивает для HTML-элементов лучшую кроссбраузерность в стилях по умолчанию

- `src/less/variables.less` - файл с переменными для шрифтом и цветов

- `src/less/style.less` - файл, где вся эта красота собирается

- `src/script/` - каталог для скриптов

- `src/script/plugins/` - каталог для плагинов

- `src/script/components/` - каталог для очень кастомных компонентов (например, карты)

## Префиксы
Так как у нас на сервере компилятор из LESS в CSS не умеет добавлять префиксы, мы подключаем `src/less/less-prefixer.less` - файл с миксинами для префиксов, позволяет не думать о подстановке префиксов.

Пример использования

`display: flex;` надо будет записать как `.flex-block();`

`align-items: center;` надо записать как `.align-items(center);`


Автор и другие миксины — https://github.com/JoelSutherland/LESS-Prefixer/blob/master/prefixer.less

Скачать файл — https://drive.google.com/file/d/1LzNEV5sUVsoHphkTLVeMoWJg1l1U-FCK/view

## “Дизайн-требования” и .transition()

В файле `src/less/less-prefixer.less` есть миксин для свойства transition

```
.transition(@prop: all, @time: 0.3s, @ease: lenear) {
  -webkit-transition: @prop @time @ease;
       -o-transition: @prop @time @ease;
          transition: @prop @time @ease;
}
```

Мы забиваем в него значения (в 99.9% случаев оставляем те, что по умолчанию прописаны) и используем как миксин — `.transition();`.

```
.btn {
  background: red;
  .transition();
  &:hover,
  &:focus {
    background: blue;
  }
}
```

В результате у нас есть довольный дизайнер.

Анимация (если transition недостаточно) или transition должны быть везде, на всех интерактивных элементах, у которых предусмотрен ховер и/или фокус или какой-либо интерактив (кнопки, ссылки, инпуты, появление попапов, ховер на меню и появление субменю, раскрытие аккордеона, ховер на табы и т. д.).

jQuery для аккордеона используется функция `slideDown()`, если аккордеон реализован на чистом JavaScript - должна быть предусмотрена имитация анимации `slideDown()`.

У всех кнопок и ссылок (у инпутов по умолчанию) должно быть прописано состояние `&:focus` (который как hover).

Ссылки, кнопки - всегда имеют свойство `cursor: pointer;`.

Внешние ссылки должны открываться в новой вкладке с атрибутом `target=”_blank”`.

Все формы ввода телефона должны иметь тип поля `tel` и маску ввода `+7 (999) 999-99-99`.

Все формы ввода электронной почты должны иметь тип поля email.

У всех `<textarea>` должно быть прописано свойство `resize: none`.

## Адаптив

`src/less/mixins.less` - здесь храним миксины для адаптива (значения указываются под проект).

Примеры миксинов

```
.tablet(@rules) {
  @media (min-width: 740px) and (max-width: 1024px) {
    @rules();
  }
}

.tablet-landscape(@rules) {
  @media (min-width: 740px) and (max-width: 1024px) and (orientation: landscape) {
    @rules();
  }
}

.mobile(@rules) {
  @media (max-width: 739px) {
    @rules();
  }
}

.mobile-landscape(@rules) {
  @media (max-width: 739px) and (orientation: landscape) {
    @rules();
  }
}
```

Пример использования

```
.header {
  padding: 20px;

  .tablet({
    padding: 40px;
  });

  .mobile({
    padding: 15px;
  });
}
```

## Контейнер на сайте / .inner()

Так как у нас БЭМ и у каждого блока должен быть свой контейнер, который должен быть единый для всего сайта — `src/less/mixins.less` - здесь делаем миксин для контейнера (значения указываются под проект),

Пример миксина

```
.inner {
  max-width: 1200px
  padding: 0 15px;
  margin: 0 auto;

  .tablet({
    padding: 0 20px;
  });

  .mobile({
    padding: 0 15px;
  });
}
```

Cтруктура разметки должна быть - блок > контейнер

```
<header class="header">
  <div class="header__inner"></div>
</header>

<section class="section">
  <div class="section__inner"></div>
</section>
```

Cтили:

```
.header__inner {
  .inner();
}

.section__inner {
  .inner();
}
```

## Иконки

`src/icons/` - каталог для размещения svg иконок (автоматически генерируются в svg спрайт в папке public).

В иконках задаем `fill="currentColor"` для возможности управления цветом через css с помощью свойства `color` (если иконка это часть ссылки, то при наведении на ссылку, цвет иконки изменяется на цвет ссылки).

Названия иконок должны быть вменяемые, “path-1-id’ - не подойдет, “icon-phone” - подойдет.

Все иконки собираются в спрайт, спрайт лежит не в верстке, а в папке с иконками с названием `sprite.svg`, для того, чтобы все завелось подключаем https://github.com/jonathantneal/svg4everybody, этот плагин будет инлайнить иконки.

Размеры иконок всегда должны быть указаны в стилях/продублированы из разметки.

В большинстве случаем иконки надо делать через `position: absolute`, у родителя элемента - `position: relative` + `padding (left/right/bottom/top)`.

## Изображения

В папку `upload` кладем все картинки, которые предполагают изменения (картинка новости, задний фон слайдера, фон у блока), это касается как `background-image`, так и `<img>`.

В случае с `background-image` - свойство не записывается в CSS, а прописывается инлайн к тегу
`<div class="item__img" style="background-image: url('upload/news-1.jpg')">`.

В папку `images` кладется то, что клиент сам менять не будет (например картинка 404 или логотип).

При верстке тегом, `<img>` должен быть вложен в `div`, у которого будет задана ширина для самого `<img>` задать `display: block` и ширину 100%.

Если картинка вставляется через стили (`background-image`), то обязательные параметры для элемента в стилях:

`background-size (либо cover, либо реальные значение, зависит от дизайна)`

`background-repeat`

`background-color`

## Плагины на проекте
https://jquery.com/download/ - сама библиотека

https://github.com/jonathantneal/svg4everybody - для svg

https://select2.org/ — для селектов

https://github.com/nolimits4web/swiper/tree/Swiper3 — для слайдеров и свайпов, используем третью версию, так как последняя не поддерживает IE10.

http://fancyapps.com/fancybox/3/ - попапы.

https://github.com/malihu/malihu-custom-scrollbar-plugin - кастомный скроллбар.

https://github.com/nazar-pc/PickMeUp - календарь.

https://jqueryvalidation.org/ - валидация форм.

Табы, аккордеон, прилипающее меню, открыть / закрыть поиск и т д - пишутся либо на jQuery, либо на JS, если последнее, то имитируется анимация, которая могла бы быть для `fadeIn()` или `slideUp()`.

Все плагины стилизуем под проект, переопределением стилей от обертки блока, например `div.scroll.js-scroll`, где внутри кастомный скроллбар, далее в стилях

```
.scroll {
  .plugin-el {
    свойство: значение;
  }
}
```

## Работа с элементами в JS

Если на элемент вешается интерактив через js/jQuery - то только по классу с приставкой js и тире сплошные (не по БЭМ).

Пример

```
<button type=’button’ class=”menu__toggle js-menu-toggle”>
   // кнопка открывает меню
</button>
```

В CSS - обычные классы.

В JS - с приставкой.

Всегда должна стоять проверка на существование элемента на странице,

Например

```
if($('.element').length != 0) {
   // здесь код
}
```

Класс `active`. Наши программисты не любят активных классов, названных по БЭМ:

```
<div class=”block__element block__element--active js-block-element”>
  ...
</div>
```

Просьба делать так

```
$(‘.js-block-element”“).addClass(‘active);
```

## Организация стилей и content

Все цвета должны быть указаны в переменных и базовые шрифты желательно тоже

`variables.less` — пример https://drive.google.com/open?id=1nCQJShpaCekbd6iIOPBhndvSelc5-Uux


Обязательно должен присутствовать файл `global.less`, где указывается базовые текстовые стили —  https://drive.google.com/open?id=1h14tFuYNpfBvB2x3zhqAoaNS1RjY4puk

Все контентные области на сайте (обычно редактируемые текстовые области, но иногда там может быть и верстка - см. ТЗ) должны быть иметь класс `content`. Это часть `ui-kit`, где нарисованы заголовки, параграфы, списки - все, что вставляет контент-менеджер и они оформляются в отдельном файле `content.less` в следующем виде:

```
.content a {
  .transition();
}

.content img {
  max-width: 100%;
}

.content h1 {
  font-size: 30px;
  line-height: 38px;
}

.content p {
  line-height: 1.6;
}
```

`max-width` у `<img>` - обязательно, на случай, если контент-менеджер вставит гигансткую картинку.

Все базовые отступы должны быть сброшены и переписаны на те, что используются на сайте, но только вниз (margin-bottom). _Может использовать тут Reset.css?_

Пример файла — https://drive.google.com/open?id=10RBbIvqOGtWyAnNu7zTgFqWgrwwq9uHf

Отступы у блоков делаем всегда вниз(мы вставляем компоненты друг за другом), если вдруг требуется где-то поставить отступ сверху - используем модификатор.

Если есть блок и внутри него список из мелких блоков, всегда убираем у последнего margin(если например есть margin-bottom у всех блоков, то у последнего он убирается, и применяется к списку).

Хорошая вложенность в стилях  - отсутствие вложенности, максимум два уровня, а лучше 1.

Если нужно показать, как изменится элемент при наведении на элемент, в котором он лежит - эти правила применяются внутри изменяемого элемента (тоже самое про класс active).

```
.button__text {
  .transition();

  .button:hover & {
    color: #ffffff;
  }
}
```
Здесь - при наведении на кнопку `.button` цвет элемента `.button__text`, лежащего внутри, изменится с красного на белый.

В названии классов не использован транслит / сокращения, кроме допустимых, допустимо кнопка - `btn`, иконка - `ic`, обертка - `wrap`.

Для стилизации не использованы `#id`.

Нет глобальных стилей тегов, есть стили для тегов от класса `.content`.

Не используются расширения (`extend`).

Указаны альтернативные варианты шрифта и тип семейства в конце перечисления
`font-family: "Open Sans", "Arial", sans-serif;`.

Другие требования к вёрстке.

Вёрстка проходит тестирование валидатором https://validator.w3.org/ - `error` быть не должно.

Отсутствуют грубые ошибки в разметке - например `input` используется без тега form или `<h1>` в заголовке у слайдера.

У всех ссылок, которые куда-то ведут должен быть атрибут `href=”#”``.

У всех тегов form должны быть атрибуты `method=”/” action=”/”`.

Кнопку отправить в форме делать через `<button type=”submit”>`.

Не делать более одного `<h1>` на странице.

В слайдере не может быть тегов заголовков (`<h1>`, `<h2>`, `<h3>` и т.д.).

Телефоны оборачиваем в ссылки, почту в ссылки.

Сетка сайта не должна разваливаться если внутри блока контента стало больше или меньше (на макетах всегда тестовый контент).

Ни один элемент не выпадает из потока при детальном рассмотрении.

Все интерактивные элементы, предусматривающие исключительно графический контент (пример - кнопки соц сетей), имеют текстовое описание в разметке, с обнуленным шрифтом в стилях.

Вёрстка иконок документов - форма иконкой, расширение файла - текстом (будет изменяться в зависимости от загруженного документа), сама иконка - обернута в сслыку.
